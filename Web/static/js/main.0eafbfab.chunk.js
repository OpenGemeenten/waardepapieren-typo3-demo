(this["webpackJsonpclerk-frontend"]=this["webpackJsonpclerk-frontend"]||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},106:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=106},129:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=129},144:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(88),i=n.n(s),o=(n(100),n(0)),c=n.n(o),l=n(1),d=n(5),u=n(3),h=n(17),p=n(15),f=n(16),v=n(20),b=n(14),g=(n(102),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={bsn:""},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.props.bsnChanged&&this.props.bsnChanged(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"bsn-form"},r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"Voer BSN in",onChange:this.handleChange})))}}]),t}(a.Component)),m=n(22),O=[{predicate:m.PRODUCT_NEED,description:"Uittreksel Basis Registratie Persoonsgegevens"}],C=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).props.needChanged&&n.props.needChanged(O[0].predicate),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"renderOptions",value:function(){for(var e=[],t=0;t<O.length;t++){var n=O[t];e.push(r.a.createElement("option",{value:n.predicate},n.description))}return e}},{key:"render",value:function(){return r.a.createElement("div",{className:"need-form"},r.a.createElement("form",null,r.a.createElement("select",null,this.renderOptions())))}}]),t}(a.Component),E=n(11),k=n(53),j=function(e){return new Promise((function(t,n){setTimeout((function(){return t()}),e)}))},y=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={},n.abundance=new k.a(n.props.core),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(100);case 2:return e.next=4,this.abundance.need("ephemeral",m.PRODUCT_NEED);case 4:return t=e.sent,e.next=7,this.abundance.observeOffer(t.theirPrivateDid,t.myPrivateSsid);case 7:return n=e.sent,e.next=10,n.readyPromise;case 10:return e.next=12,this.abundance.getCoreAPI().claim(t.myPrivateSsid,Object(E.a)({},m.SOURCE_ARGUMENT,this.props.bsn));case 12:return e.next=14,n.resultPromise;case 14:a=e.sent,this.props.ssidsChanged&&this.props.ssidsChanged(t.theirPrivateDid,t.myPrivateSsid),this.props.resultLinkChanged&&this.props.resultLinkChanged(a.link),this.setState(Object(v.a)({},this.state,{data:a.claim.data}));case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderAttributes",value:function(){var e=[];if(this.state.data){var t=!0,n=!1,a=void 0;try{for(var s,i=this.state.data[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value,c=Object.keys(o)[0],l=o[c];"string"!==typeof l&&(l=JSON.stringify(l)),e.push(r.a.createElement("tr",null,r.a.createElement("td",null,c),r.a.createElement("td",null,l)))}}catch(d){n=!0,a=d}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}}return e}},{key:"render",value:function(){return r.a.createElement("div",{className:"confirmation-data"},r.a.createElement("table",null,r.a.createElement("tbody",null,this.renderAttributes())))}}]),t}(a.Component),w=n(90),P=n(94),_=m.EXPORT_TYPES["@discipl/paper-wallet"].template,D=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={attestationLink:null,canvas:null},n.paperWallet=new P.a(n.props.core),n.canvasRef=r.a.createRef(),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"deliveryChanged",value:function(e){this.props.deliveryChanged&&this.props.deliveryChanged(e)}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),"http://:8880",e.next=4,this.paperWallet.issue(this.props.resultLink,this.props.myPrivateSsid,{cert:"http://:8880/certs/org.crt"});case 4:return t=e.sent,console.log("Issued"),n=new w({orientation:"p",unit:"pt",format:[595.28,841.89]}),this.canvasRef.current.width=_.canvasWidth,this.canvasRef.current.height=_.canvasHeight,e.next=11,this.paperWallet.toCanvas(t,_,this.canvasRef.current);case 11:a=this.canvasRef.current.toDataURL("image/png"),n.addImage(a,"png",0,0,_.canvasWidth,_.canvasHeight),this.deliveryChanged(n);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"delivery-data"},r.a.createElement("canvas",{id:"delivery-canvas",ref:this.canvasRef}))}}]),t}(a.Component),R=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={step:0},n.core=e.core,n._prev=n._prev.bind(Object(b.a)(n)),n._next=n._next.bind(Object(b.a)(n)),n._first=n._first.bind(Object(b.a)(n)),n.bsnChanged=n.bsnChanged.bind(Object(b.a)(n)),n.needChanged=n.needChanged.bind(Object(b.a)(n)),n.ssidsChanged=n.ssidsChanged.bind(Object(b.a)(n)),n.resultLinkChanged=n.resultLinkChanged.bind(Object(b.a)(n)),n.deliveryChanged=n.deliveryChanged.bind(Object(b.a)(n)),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"_prev",value:function(){this.setState(Object(v.a)({},this.state,{step:this.state.step-1}))}},{key:"_next",value:function(){this.setState(Object(v.a)({},this.state,{step:this.state.step+1}))}},{key:"_first",value:function(){this.setState(Object(v.a)({},this.state,{step:0}))}},{key:"_download",value:function(e){"paperWallet"===e?this.state.pdf.save("uittreksel.pdf"):window.alert("Download option ("+e+") not supported...")}},{key:"renderButtons",value:function(){var e=r.a.createElement("button",{onClick:this._prev},"Vorige"),t=r.a.createElement("button",{onClick:this._next},"Volgende"),n=r.a.createElement("button",null,"Dit klopt niet!"),a=r.a.createElement("button",{onClick:this._next},"Dit klopt!"),s=r.a.createElement("button",{onClick:this._download.bind(this,"paperWallet")},"Download"),i=r.a.createElement("button",{onClick:this._download.bind(this,"appleWallet")},"Download naar Apple Wallet"),o=r.a.createElement("button",{onClick:this._first},"Afronden");return 0===this.state.step?t:2===this.state.step?[e,n,a]:3===this.state.step?[s,i,o]:[e,t]}},{key:"bsnChanged",value:function(e){this.setState(Object(v.a)({},this.state,{bsn:e}))}},{key:"needChanged",value:function(e){this.setState(Object(v.a)({},this.state,{need:e}))}},{key:"ssidsChanged",value:function(e,t){this.setState(Object(v.a)({},this.state,{personalDid:e,myPrivateSsid:t}))}},{key:"resultLinkChanged",value:function(e){this.setState(Object(v.a)({},this.state,{resultLink:e}))}},{key:"deliveryChanged",value:function(e){this.setState(Object(v.a)({},this.state,{pdf:e}))}},{key:"renderStep",value:function(){switch(this.state.step){case 0:return r.a.createElement(g,{bsnChanged:this.bsnChanged});case 1:return r.a.createElement(C,{needChanged:this.needChanged});case 2:return r.a.createElement(y,{core:this.core,bsn:this.state.bsn,need:this.state.need,ssidsChanged:this.ssidsChanged,resultLinkChanged:this.resultLinkChanged});case 3:return r.a.createElement(D,{core:this.core,personalDid:this.state.personalDid,myPrivateSsid:this.state.myPrivateSsid,resultLink:this.state.resultLink,deliveryChanged:this.deliveryChanged});default:console.log("Unsupported step")}}},{key:"render",value:function(){return r.a.createElement("div",{className:"NeedWizard"},r.a.createElement("h2",null,"Verstrekken bewijs inschrijving BRP"),r.a.createElement("h3",null,"door gemeentelijk ambtenaar"),this.renderStep(),this.renderButtons())}}]),t}(a.Component),S=n(66),T=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).abundance=new k.a,n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log((new S.a).getName()),e.next=3,this.abundance.getCoreAPI().registerConnector("ephemeral",new S.a);case 3:return e.next=5,this.abundance.getCoreAPI().getConnector("ephemeral");case 5:t=e.sent,"https://localhost:443/api/eph","wss://localhost:443/api/eph-ws",t.configure("https://localhost:443/api/eph","wss://localhost:443/api/eph-ws",window.WebSocket);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(R,{core:this.abundance.getCoreAPI()})}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},22:function(e){e.exports=JSON.parse('{"DEFAULT_EPHEMERAL_ENDPOINT":"http://localhost:3002","DEFAULT_EPHEMERAL_WEBSOCKET_ENDPOINT":"ws://localhost:3233","PRODUCT_NEED":"BRP_UITTREKSEL_NEED","DEFAULT_CERTIFICATE_URL":"http://10.10.5.75:3000/certs/org.crt","SOURCE_ARGUMENT":"BSN","PRODUCT_ACCEPT":"BRP_UITTREKSEL_ACCEPT","PRODUCT_NAME":"Gewaarmerkt digitaal afschrift van gegevens uit de basisregistratie personen (BRP)","PRODUCT_DESCRIPTION":"Uittreksel Basis Registratie Persoonsgegevens","PRODUCT_PURPOSE":"Bewijs leveren voor verblijfadres in woonplaats","EXPORT_TYPES":{"@discipl/paper-wallet":{"template":{"backgroundImage":"form-assets/another_pdf_template.png","logoImage":"form-assets/logo.png","logoWidth":210,"logoHeight":160,"logoOffsetX":0,"logoOffsetY":0,"disciplImage":"form-assets/discipl.png","disciplWidth":90,"disciplHeight":90,"disciplOffsetX":460,"disciplOffsetY":35,"canvasWidth":595,"canvasHeight":838,"productHeaderFont":"bold 11.5px helvetica","productHeaderText":"Gewaarmerkt digitaal afschrift van gegevens uit de basisregistratie personen (BRP)","productHeaderOffsetX":40,"productHeaderOffsetY":190,"subheaderFont":"11.5px helvetica","subheaderText":"Onderstaand persoon is bij de gemeente Haarlem ingeschreven","subheaderOffsetX":40,"subheaderOffsetY":210,"claimDataFont":"11.5px helvetica","prefixAttributes":true,"claimDataOffsetX":40,"claimDataOffsetY":255,"claimDataLineSpacing":15,"qrOffsetX":320,"qrOffsetY":520,"qrWidth":150,"qrHeight":150,"qrOffsetXright":550,"qrOffsetYbottom":700,"qrSizeMin":150,"footerFont":"10px helvetica","footerText":"Dit is een automatisch gegenereerd document en daarom niet ondertekend. De gegevens zijn verkregen via NLX en geborgd in de QR-code. U kunt de echtheid van dit document controleren via een bijbehorende app of online","footerWidth":400,"footerHeight":200,"footerOffsetX":90,"footerOffsetY":730}}}}')},62:function(e,t){},95:function(e,t,n){e.exports=n(144)}},[[95,1,2]]]);
//# sourceMappingURL=main.0eafbfab.chunk.js.map