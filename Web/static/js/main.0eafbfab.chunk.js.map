{"version":3,"sources":["../node_modules/@discipl/abundance-service/node_modules/@discipl/core/src lazy groupOptions: {} namespace object","../node_modules/@discipl/core/src lazy groupOptions: {} namespace object","need-wizard/BSNStep.js","need-wizard/NeedStep.js","need-wizard/ConfirmStep.js","need-wizard/DeliveryStep.js","need-wizard/NeedWizard.js","App.js","serviceWorker.js","index.js"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","BSNStep","props","state","handleChange","bind","event","this","bsnChanged","target","value","className","type","placeholder","onChange","Component","NEEDS","CONFIGURATION","PRODUCT_NEED","NeedStep","needChanged","predicate","result","i","length","need","push","description","renderOptions","timeoutPromise","timeoutMillis","reject","setTimeout","ConfirmStep","abundance","AbundanceService","core","observeOffer","theirPrivateDid","myPrivateSsid","readyPromise","getCoreAPI","claim","SOURCE_ARGUMENT","bsn","resultPromise","ssidsChanged","resultLinkChanged","link","setState","data","keyValue","key","Object","JSON","stringify","renderAttributes","template","EXPORT_TYPES","attestationLink","canvas","paperWallet","PaperWallet","canvasRef","React","createRef","deliveryChanged","console","log","process","issue","resultLink","certUrl","vc","pdf","jsPDF","orientation","unit","format","current","width","canvasWidth","height","canvasHeight","toCanvas","imageData","toDataURL","addImage","ref","NeedWizard","_prev","_next","_first","step","save","window","alert","prevButton","onClick","nextButton","wrongInfoButton","rightInfoButton","downloadButton","_download","appleWalletButton","finishButton","personalDid","DeliveryStep","renderStep","renderButtons","App","EphemeralConnector","getName","registerConnector","getConnector","ephemeralConnector","configure","WebSocket","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0eafbfab.chunk.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 106;","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 129;","import React, { Component } from 'react';\n\nclass BSNStep extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      'bsn': ''\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    if (this.props.bsnChanged) {\n      this.props.bsnChanged(event.target.value)\n    }\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"bsn-form\">\n        <form>\n          <input type=\"text\" placeholder='Voer BSN in' onChange={this.handleChange}/>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default BSNStep;\n","import React, { Component } from 'react';\n\nimport CONFIGURATION from '../configuration/clerk-frontend-config.json'\nconst NEEDS = [\n  {\n    'predicate': CONFIGURATION.PRODUCT_NEED,\n    'description': 'Uittreksel Basis Registratie Persoonsgegevens'\n  }\n]\n\nclass NeedStep extends Component {\n\n  constructor(props) {\n    super(props);\n\n    if (this.props.needChanged) {\n      this.props.needChanged(NEEDS[0].predicate)\n    }\n  }\n\n  renderOptions() {\n    let result = []\n    for (let i = 0; i < NEEDS.length; i++) {\n      let need = NEEDS[i]\n      result.push(<option value={need.predicate}>{need.description}</option>)\n    }\n    return result\n  }\n\n  render() {\n    return (\n      <div className=\"need-form\">\n        <form>\n          <select>\n            {this.renderOptions()}\n          </select>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default NeedStep;\n","import React, { Component } from 'react';\n\nimport CONFIGURATION from '../configuration/clerk-frontend-config.json'\nimport { AbundanceService } from '@discipl/abundance-service'\n\nconst timeoutPromise = (timeoutMillis) => {\n  return new Promise(function (resolve, reject) {\n    setTimeout(() => resolve(), timeoutMillis)\n  })\n}\n\nclass ConfirmStep extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {}\n\n    this.abundance = new AbundanceService(this.props.core)\n  }\n\n  async componentDidMount() {\n    await timeoutPromise(100)\n\n    let need = await this.abundance.need('ephemeral', CONFIGURATION.PRODUCT_NEED)\n\n    let observeOffer = await this.abundance.observeOffer(need.theirPrivateDid, need.myPrivateSsid)\n    await observeOffer.readyPromise\n\n    await this.abundance.getCoreAPI().claim(need.myPrivateSsid, { [CONFIGURATION.SOURCE_ARGUMENT]: this.props.bsn })\n\n\n    let result = await observeOffer.resultPromise\n\n    if (this.props.ssidsChanged) {\n      this.props.ssidsChanged(need.theirPrivateDid, need.myPrivateSsid)\n    }\n\n    if (this.props.resultLinkChanged) {\n      this.props.resultLinkChanged(result.link)\n    }\n\n    this.setState({\n      ...this.state,\n      'data': result.claim.data\n    })\n  }\n\n  renderAttributes() {\n    let result = []\n    if (this.state.data) {\n      for (let keyValue of this.state.data) {\n        let key = Object.keys(keyValue)[0]\n        let value = keyValue[key]\n\n        if (typeof value !==  'string') {\n          value = JSON.stringify(value)\n        }\n\n\n        result.push(<tr><td>{key}</td><td>{value}</td></tr>)\n      }\n\n    }\n\n    return result\n  }\n\n  render() {\n    return (\n      <div className=\"confirmation-data\">\n        <table>\n          <tbody>\n            {this.renderAttributes()}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default ConfirmStep;\n","import React, { Component } from 'react';\nimport CONFIGURATION from '../configuration/clerk-frontend-config.json'\nimport * as jsPDF from 'jspdf'\nimport { PaperWallet } from '@discipl/paper-wallet'\n\nlet template = CONFIGURATION.EXPORT_TYPES['@discipl/paper-wallet'].template\n\nclass ConfirmStep extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      attestationLink : null,\n      canvas : null\n    }\n\n    this.paperWallet = new PaperWallet(this.props.core)\n\n    this.canvasRef = React.createRef()\n  }\n\n  deliveryChanged(canvas) {\n    if (this.props.deliveryChanged) {\n      this.props.deliveryChanged(canvas)\n    }\n  }\n\n  async componentDidMount() {\n    console.log(this.props)\n\n    const certUrl = process.env.REACT_APP_CERTIFICATE_HOST || CONFIGURATION.DEFAULT_CERTIFICATE_HOST\n\n    let vc = await this.paperWallet.issue(this.props.resultLink, this.props.myPrivateSsid, {'cert': certUrl + '/certs/org.crt'})\n\n    console.log(\"Issued\")\n\n    let pdf = new jsPDF({\n      orientation: 'p',\n      unit: 'pt',\n      format: [595.28, 841.89]\n    })\n\n    this.canvasRef.current.width = template.canvasWidth\n    this.canvasRef.current.height = template.canvasHeight\n\n    await this.paperWallet.toCanvas(vc, template, this.canvasRef.current)\n\n    let imageData = this.canvasRef.current.toDataURL('image/png')\n\n\n\n\n    pdf.addImage(imageData, 'png', 0, 0, template.canvasWidth, template.canvasHeight)\n\n    this.deliveryChanged(pdf)\n  }\n\n  render() {\n    return (\n      <div className=\"delivery-data\">\n        <canvas id=\"delivery-canvas\" ref={this.canvasRef}/>\n      </div>\n    );\n  }\n}\n\nexport default ConfirmStep;\n","import React, { Component } from 'react'\nimport './NeedWizard.css'\nimport BSNStep from './BSNStep'\nimport NeedStep from './NeedStep'\nimport ConfirmStep from './ConfirmStep'\nimport DeliveryStep from './DeliveryStep'\n\n\nconst MAX_STEP = 3;\n\nclass NeedWizard extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'step': 0\n    }\n\n    this.core = props.core;\n\n    this._prev = this._prev.bind(this);\n    this._next = this._next.bind(this);\n    this._first = this._first.bind(this);\n    this.bsnChanged = this.bsnChanged.bind(this);\n    this.needChanged = this.needChanged.bind(this);\n    this.ssidsChanged = this.ssidsChanged.bind(this);\n    this.resultLinkChanged = this.resultLinkChanged.bind(this);\n    this.deliveryChanged = this.deliveryChanged.bind(this);\n  }\n\n  _prev() {\n    this.setState({\n      ...this.state,\n      step: this.state.step-1\n    })\n  }\n\n  _next() {\n    this.setState({\n      ...this.state,\n      step: this.state.step+1\n    })\n  }\n\n  _first() {\n    this.setState({\n      ...this.state,\n      step: 0\n    })\n  }\n\n  _download(type) {\n    if(type === 'paperWallet') {\n      this.state.pdf.save('uittreksel.pdf')\n    } else {\n      window.alert('Download option ('+type+') not supported...')\n    }\n  }\n\n  renderButtons() {\n    let prevButton = <button onClick={this._prev}>Vorige</button>;\n    let nextButton = <button onClick={this._next}>Volgende</button>;\n    let wrongInfoButton = <button>Dit klopt niet!</button>;\n    let rightInfoButton = <button onClick={this._next}>Dit klopt!</button>;\n\n    let downloadButton = <button onClick={this._download.bind(this, 'paperWallet')}>Download</button>; // currently still mock\n    let appleWalletButton = <button onClick={this._download.bind(this, 'appleWallet')}>Download naar Apple Wallet</button>;\n\n    let finishButton = <button onClick={this._first}>Afronden</button>;\n\n    if (this.state.step === 0) {\n      return nextButton;\n    }\n\n    if (this.state.step === 2) {\n      return [prevButton, wrongInfoButton, rightInfoButton];\n    }\n\n    if (this.state.step === MAX_STEP) {\n      return [downloadButton, appleWalletButton, finishButton];\n    }\n\n    return [prevButton, nextButton];\n  }\n\n  bsnChanged(bsn) {\n    this.setState({\n      ...this.state,\n      'bsn': bsn\n    })\n  }\n\n  needChanged(need) {\n    this.setState({\n      ...this.state,\n      'need': need\n    })\n  }\n\n  ssidsChanged(personalDid, myPrivateSsid) {\n\n    this.setState({\n      ...this.state,\n      'personalDid': personalDid,\n      'myPrivateSsid': myPrivateSsid\n    })\n  }\n\n  resultLinkChanged(resultLink) {\n    this.setState({\n      ...this.state,\n      'resultLink': resultLink\n    })\n  }\n\n  deliveryChanged( pdf) {\n    this.setState({\n      ...this.state,\n      'pdf': pdf\n    })\n  }\n\n  renderStep () {\n    switch(this.state.step) {\n      case 0:\n        return <BSNStep bsnChanged={this.bsnChanged}/>\n      case 1:\n        return <NeedStep needChanged={this.needChanged}/>\n      case 2:\n        return <ConfirmStep core={this.core}bsn={this.state.bsn} need={this.state.need} ssidsChanged={this.ssidsChanged} resultLinkChanged={this.resultLinkChanged}/>\n      case 3:\n        return <DeliveryStep core={this.core} personalDid={this.state.personalDid} myPrivateSsid={this.state.myPrivateSsid} resultLink={this.state.resultLink} deliveryChanged={this.deliveryChanged} />\n      default:\n        console.log('Unsupported step')\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"NeedWizard\">\n        <h2>Verstrekken bewijs inschrijving BRP</h2>\n        <h3>door gemeentelijk ambtenaar</h3>\n        {this.renderStep()}\n        {this.renderButtons()}\n      </div>\n    );\n  }\n}\n\nexport default NeedWizard;\n","import React, {Component} from 'react';\nimport NeedWizard from './need-wizard/NeedWizard'\nimport { AbundanceService } from '@discipl/abundance-service'\nimport EphemeralConnector from '@discipl/core-ephemeral'\n\nimport CONFIGURATION from './configuration/clerk-frontend-config'\n\n\n\n\n\nclass App extends Component {\n    constructor(props) {\n        super(props)\n\n        this.abundance = new AbundanceService()\n    }\n    async componentDidMount() {\n        console.log(new EphemeralConnector().getName())\n        await this.abundance.getCoreAPI().registerConnector('ephemeral', new EphemeralConnector())\n        let ephemeralConnector = await this.abundance.getCoreAPI().getConnector('ephemeral')\n        let ephemeralEndpoint = process.env.REACT_APP_EPHEMERAL_ENDPOINT != null ? process.env.REACT_APP_EPHEMERAL_ENDPOINT : CONFIGURATION.DEFAULT_EPHEMERAL_ENDPOINT\n        let ephemeralWebsocketEndpoint = process.env.REACT_APP_EPHEMERAL_WEBSOCKET_ENDPOINT != null ? process.env.REACT_APP_EPHEMERAL_WEBSOCKET_ENDPOINT : CONFIGURATION.DEFAULT_EPHEMERAL_WEBSOCKET_ENDPOINT\n        ephemeralConnector.configure(ephemeralEndpoint, ephemeralWebsocketEndpoint, window.WebSocket)\n    }\n\n    render() {\n        return (\n            <NeedWizard core={this.abundance.getCoreAPI()}/>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}